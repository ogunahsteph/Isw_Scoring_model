project_dir: ./

prefix: "DWH"

scoring_response_data_path_json: 'data/processed/scoring_response.json'

db_credentials:
  dwh_env: ["DWH_HOST", "DWH_PORT", "DWH_DB_NAME", "DWH_USER", "DWH_PASSWORD"]
  isw_env: ["ISW_HOST", "ISW_PORT", "ISW_DB_NAME", "ISW_USER", "ISW_PASSWORD"]
  mifos_env: ["MIFOS_HOST", "MIFOS_PORT", "MIFOS_DB_NAME", "MIFOS_USER", "MIFOS_PASSWORD"]
  isw_api_env: ["ISW_API_HOST", "ISW_API_USER", "ISW_API_PASSWORD"]
  path: .env

product_ids : [2, 3]

snapshot_weeks: 8

agent_id: "3IS16325"
terminal_ids: ["3IS16325", "3IS12910", "3IS34786",
               "3IS00720", "3IS08111"]

s3_config:
  bucket_name_raw: afsg-dgt-prod-iswug-file-upload
  bucket_name_clean: afsg-ds-prod-postgresql-dwh-archive
  bucket_key_prefix_clean: "interswitch_uganda/scoring_data/{}_cleaned.csv" 

airflow_api_config:
  # airflow_dag_url: 'data-pipelines/api/v1/dags/scoring_pipeline_remita/dagRuns'
  # headers_content_type: 'application/json'
  # headers_accept: 'application/json'
  # conf_is_initial_run: "true"
  # verify: False
  callback_url: "https://callback/url/endpoint" # 'https://iswug.asantefsg.com/iswug/api/v1/client/creditlimit'
  # prefix: 'AIRFLOW'
  scoring_script_name: 'ISW'
  # trigger_api: False

upload_data_config:
  prefix: "DWH"
  schema: 'interswitch_ug'
  table: 'scoring_results'
  index: False
  chunksize: 1
  method: None
  target_fields: ['terminal', 'total_debit_amount', 'average_transaction_size', 'total_transactions', 'earliest_transaction_date',
                  'latest_transaction_date', 'no_of_services_offered', 'min_balance', 'max_balance', 'average_balance',
                  'min_debit_amt', 'max_debit_amt', 'unique_transaction_days', 'unique_transaction_months',
                  'expected_transaction_days_last_6_months', 'daily_trading_consistency_last_6_months',
                  'average_daily_transactions', 'average_daily_debit_amt', 'days_since_last_transaction', 'lowest_negative_balance',
                  'highest_negative_balance', 'total_commissions_amount',
                  'unique_number_of_commissions', 'unique_number_of_services_offered', 'number_of_months_received_commissions',
                  'scoring_refresh_date', 'model_version', 'minimum_3_day_limit', 'rounded_3_day_limit', 'is_qualified',
                  'earliest_negative_balance_date', 'latest_negative_balance_date', 'unique_negative_balance_dates',
                  'days_since_latest_negative_balance','latest_trading_month', 'evaluation_months', 'diff_last_txn_month',
                  'trading_consistency_score', 'age_on_network_score', 'recency_in_months_score',
                  'average_daily_debit_score', 'unique_number_of_commissions_score', 'total_score',
                  'count_of_loans', 'months_since_last_disbursement', 'percentage_repayment_by_dpd_7',
                  'loan_band', 'repayment_band', 'limit_factor_3_day', 'final_3_day_limit', 'previous_limit', # 'tenure',
                  'rules_summary_narration', 'communication_to_client', 'limit_reason_code', 'current_limit',
                  # 'previous_snapshot_limit', 
                  'previous_m_limit', 'previous_2m_limit',
                  'is_3_days_qualified', 'is_7_days_qualified', 'final_7_day_limit']
  if_exists: 'fail' # 'append'

digital_api_config:
  headers_content_type: 'application/json'
  prefix: 'ISW_API'
  verify: False
  share_limits: False